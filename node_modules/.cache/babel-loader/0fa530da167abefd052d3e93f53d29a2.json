{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mudas\\\\Documents\\\\reactgithub\\\\react-gruppuppgift\\\\src\\\\pages\\\\admin\\\\ManageItems.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from \"react-router-dom\";\nimport PunList from '../../components/PunList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ManageItems() {\n  _s();\n\n  const [puns, setPuns] = useState([]);\n  useEffect(() => {\n    fetchPuns();\n  }, []); // Gör detta anrop bara en gång när sidan laddas upp, såsom componentDidMount\n\n  const fetchPuns = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/posts');\n\n      if (!response.ok) {\n        throw new Error('HTTP Error! status: ' + response.status);\n      }\n\n      const data = await response.json();\n      setPuns(data);\n      console.log(data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const deletePun = async punId => {\n    try {\n      await fetch('http://localhost:5000/posts/' + punId, {\n        method: 'DELETE' // GET POST PATCH DELETE\n\n      });\n    } catch (message) {\n      throw new Error(message);\n    }\n\n    fetchPuns();\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"managediv\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Manage Posts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(PunList, {\n      puns: puns,\n      deletePun: deletePun\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ManageItems, \"q+zFjGSn1qF1wGzAwryS6Wdx4Jw=\");\n\n_c = ManageItems;\nexport default ManageItems;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManageItems\");","map":{"version":3,"sources":["C:/Users/Mudas/Documents/reactgithub/react-gruppuppgift/src/pages/admin/ManageItems.js"],"names":["React","useState","useEffect","Link","PunList","ManageItems","puns","setPuns","fetchPuns","response","fetch","ok","Error","status","data","json","console","log","error","deletePun","punId","method","message"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,IAAR,QAAmB,kBAAnB;AACA,OAAOC,OAAP,MAAoB,0BAApB;;;AAGA,SAASC,WAAT,GAAuB;AAAA;;AACnB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AAGAC,EAAAA,SAAS,CAAE,MAAM;AACbM,IAAAA,SAAS;AACZ,GAFQ,EAEH,EAFG,CAAT,CAJmB,CAMT;;AAGV,QAAMA,SAAS,GAAG,YAAY;AAC7B,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAAD,CAA5B;;AACA,UAAG,CAACD,QAAQ,CAACE,EAAb,EAAiB;AACb,cAAM,IAAIC,KAAJ,CAAU,yBAAyBH,QAAQ,CAACI,MAA5C,CAAN;AACH;;AACD,YAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAT,EAAnB;AACAR,MAAAA,OAAO,CAACO,IAAD,CAAP;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACA,KARJ,CASG,OAAMI,KAAN,EAAa;AACTF,MAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACH;AACJ,GAbD;;AAeA,QAAMC,SAAS,GAAG,MAAMC,KAAN,IAAgB;AAC9B,QAAI;AACA,YAAMV,KAAK,CAAC,iCAAiCU,KAAlC,EAAyC;AAChDC,QAAAA,MAAM,EAAE,QADwC,CAC9B;;AAD8B,OAAzC,CAAX;AAIH,KALD,CAKC,OAAMC,OAAN,EAAe;AACZ,YAAM,IAAIV,KAAJ,CAAWU,OAAX,CAAN;AACH;;AAGDd,IAAAA,SAAS;AACZ,GAZD;;AAcA,sBAGI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA,4BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAGI,QAAC,OAAD;AACA,MAAA,IAAI,EAAIF,IADR;AAEA,MAAA,SAAS,EAAEa;AAFX;AAAA;AAAA;AAAA;AAAA,YAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UAHJ;AAaH;;GAnDQd,W;;KAAAA,W;AAqDT,eAAeA,WAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport {Link} from \"react-router-dom\";\r\nimport PunList from '../../components/PunList';\r\n\r\n\r\nfunction ManageItems() {\r\n    const [puns, setPuns] = useState([]);\r\n\r\n\r\n    useEffect (() => {\r\n        fetchPuns();\r\n    },    []) // Gör detta anrop bara en gång när sidan laddas upp, såsom componentDidMount\r\n\r\n\r\n    const fetchPuns = async () => {\r\n     try {\r\n         const response = await fetch('http://localhost:5000/posts')\r\n         if(!response.ok) {\r\n             throw new Error('HTTP Error! status: ' + response.status);\r\n         }\r\n         const data = await response.json();\r\n         setPuns(data);\r\n         console.log(data)\r\n        }\r\n        catch(error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n\r\n    const deletePun = async(punId) => {\r\n        try {\r\n            await fetch('http://localhost:5000/posts/' + punId, {\r\n                method: 'DELETE', // GET POST PATCH DELETE\r\n            });\r\n\r\n        }catch(message) {\r\n            throw new Error (message)\r\n        }\r\n\r\n\r\n        fetchPuns();\r\n    }\r\n\r\n    return (\r\n\r\n        \r\n        <div className=\"managediv\">\r\n            <h1>Manage Posts</h1>\r\n        \r\n            <PunList \r\n            puns = {puns} \r\n            deletePun={deletePun}\r\n            \r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ManageItems\r\n"]},"metadata":{},"sourceType":"module"}